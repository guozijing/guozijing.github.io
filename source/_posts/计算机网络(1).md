---
title: 计算机网络（1）
date: 2019-04-28 20:07:37
tags: 计算机网络
categories: 计算机网络
---

#### 计算机网络-随笔(1)

> 计算机网络 （第6版） 谢希仁
---
#### OSI七层模型 在五层协议中，将应用层、表示层、会话层合为应用层
> 应用层
> 表示层
> 会话层
> 运输层
> 网络层
> 数据链路层
> 物理层


<!-- more -->
#### 各种通信
> 短波通信（高频通信） 短波无线电台
> 微波通信（300M-300GHz）1m-1mm 主要用2-40Hz
> 地面微波接力通信--卫星通信
> 卫星通信特点：通信距离远 收费与距离无关 不用地面上建大量的中继站 具有较大的传播时延

#### 数据链路层
> 信道 1.点对点通信 2.广播信道
> 在局域网中，主机到主机属于数据链路层的范围

> 三个基本问题
> 1.封装成帧，添加首部 尾部（帧界定）
> 2.透明传输，无论什么样的数据组合都能传输
> 3.差错检测，循环冗余检错

> 各个名词的区别
>  1.网络层主要讨论的是怎样从一个网络经由路由器转发到另一个网络
>  2.链路上传输的是bit 数据链路层上传输的是帧

> **局域网结构**
>  星行网 总线网 环形网

> 以太网协议 CSMA/CD 载波监听多点接入/碰撞检测

> 集线器工作在物理层  以太网交换机(网桥)工作在数据链路层  路由器工作在网络层  网络层以上：网关

### 网络层

##### IP地址
> 32位标识符 两个固定字段：1.网络号 2.主机号

> **IP地址分类**
> **A类地址**：0···.···.···.···  可派用的网络号为126个 (2^7-2)，全0表示这个网络 127回环测试; 主机数2^24-2，全0表示单个网络地址 全1表示所有的
> **B类地址**：100···.···.···.··· 网络号2^14-1, 128.0.0.0不指派 主机数为2^16-2
> **C类地址**：1100···.···.···.··· 网络号2^21-1 主机数2^8-2

> 路由器至少连接到两个网络，至少有两个IP地址
> IP地址和物理地址的区别：物理地址是数据链路层和物理层使用的 IP地址是网络层上所使用的逻辑地址
> 地址解析协议**ARP**：知道一个主机的IP地址，找出相应的硬件地址，主机上都设有一个ARP高速缓存，包含本局域网中的各主机和路由器的IP到硬件地址的映射表，通过广播方式进行维护该表

#### 划分子网
> 该过程属于网络内部的事情，外部看不见
> IP：={<网络号>,<子网号>,<主机号>}
> 子网掩码：和IP相与得到子网的网络地址 例：145.8.3.2 & 255.255.255.0
> 子网位数n，子网数2^n-2

> IP协议配套使用的三个协议
> 1.ARP 地址解析协议
> 2.ICMP 网际控制报文协议 差错报告协议 查询报文
> 3.IGMP 网际组管理协议

> 内部网关协议：RIP OSPF
> 外部网关协议：BGP

### 运输层
> 运输层协议：TCP UDP
> 面向通信部分的最高层，主机的协议栈才有运输层
> 端到端的通信是应用进程之间的通信
> IP协议能把分组送到目的主机
> 在网络层，IP数据报首部中的检验和字段只检验首部是否出错，运输层对收到的报文进行差错检验
> 面向连接的TCP和无连接的UDP->用户数据报协议，首部中包含源端口和目的端口
> UDP在IP数据报的基础上加上了复用 分用 差错检测
> UDP接收方发现端口号不正确，发送ICMP 端口不可达报文
> TCP面向连接的运输层协议 点对点 只能有两个端点
> TCP连接的端点叫套接字 ip:端口号 ={(IP1:port1),(IP2:port2)}
> TCP首部：前20个字节固定：源端口 目的端口 序号 确认号 数据偏移（首部长度） 保留 ACK（确认）




